- .NET là gì

-- .NET là 1 framework cho phép ( ennable ) application được viết bởi C# running.

- C#

-- C# là một ngôn ngữ lập trình hướng đối tượng bậc cao do microsoft tạo ra.

-- Khi code trong C#, complier của C# (cụ thể là trình biên dịch C# của Microsoft) sẽ biên dịch mã nguồn của bạn thành CIL. CIL này sau đó được thực thi trên Máy ảo CLR (Common Language Runtime) và được convert sang ngôn nhữ máy ( binary code ).

-- CIL ( Common Intermediate Language ) là một ngôn ngữ trung gian chung được sử dụng trong framework .NET .

-- CLR ( Common Languege Runtime ) có thể xem như 1 máy ảo, tại đó ứng dụng dựa trên .NET được thực thi. CLR chịu trắc nghiệm cho việc quản lý memory, cung cấp error handling, làm việc với threads.

-- CLR không phải 1 trình biên dịch. Mà nó được xem như 1 môi trường thực thi code ( runtime enviroment ).

- Khái niệm Stack và Heap

-- Memory của .NET Program được chia thành 2 phần: stack và heap.

-- Stack: là một vùng nhớ được dành riêng cho mỗi thread trong chương trình. Nó chứa các biến cục bộ và các giá trị tham trị của chúng. Mỗi khi một hàm được gọi, một phần mới của stack được cấp phát cho hàm đó, và khi hàm kết thúc, phần đó được giải phóng. Điều này tạo ra một cấu trúc dạng "ngăn xếp", trong đó các hàm gọi được lưu trữ theo thứ tự và mỗi hàm gọi tạo ra một frame trên stack.

-- Heap: là một vùng nhớ lớn hơn, được chia sẻ giữa tất cả các luồng trong chương trình. Nó chứa các đối tượng được tạo ra trong chương trình, và các biến tham chiếu đến chúng. Khi một đối tượng được tạo ra bằng cách sử dụng từ khóa new, nó được lưu trữ trong heap và một địa chỉ của nó được trả về. Các đối tượng trong heap được quản lý bởi garbage collector để giải phóng bộ nhớ khi chúng không còn được sử dụng. Garbage collector ( GC ) là 1 component của CLR.

-- Hiệu suất của Stack và Heap: Thường thì việc truy cập dữ liệu trên stack sẽ nhanh hơn so với heap vì nó hoạt động theo cấu trúc stack đơn giản và dễ dàng. Tuy nhiên, việc sử dụng stack có giới hạn hơn và thường chỉ phù hợp cho các biến cục bộ và các đối tượng có vòng đời ngắn. Heap thì linh hoạt hơn và có thể chứa đối tượng có vòng đời dài hơn, nhưng việc truy cập dữ liệu từ heap có thể chậm hơn một chút do cần phải sử dụng con trỏ để truy cập và do quản lý bởi garbage collector.

- Unified Type System ( hệ thống type thống nhất ) trong C#

-- Trong C#, Unified Type System đề cập đến việc tất cả các kiểu dữ liệu, bao gồm cả các kiểu dữ liệu cơ bản như số nguyên, số thực, và các kiểu dữ liệu người dùng tự định nghĩa, đều được coi là các thành phần của cùng một hệ thống kiểu dữ liệu chung. Điều này có nghĩa là trong C#, mọi đối tượng đều có thể được coi là một đối tượng của lớp cơ sở là System.Object, và từ đó, chúng có thể được xử lý thông qua các phương thức và thuộc tính của lớp System.Object.

- Boxing và Unboxing trong .NET

-- Khi chúng ta gán một giá trị tham trị ( value type ) cho 1 biến tham chiếu, value type đó sẽ bị boxing. Khi một value bị boxed, nó được wrapped bên trong 1 instance của System.Object class và được lưu trữ trong heap. Boxing xảy ra ngầm ( implicit ) mỗi khi chúng ta gán 1 value type cho 1 instance của reference type, nó cũng xảy ra khi chúng ta thêm một value type vào 1 collection nào đó ( bởi vì collection là reference type ). Boxing là 1 heavy-performance operation. Nó require việc tạo ra 1 object mới và chỉ định ( allocate ) memory trong heap cho object đó.

-- Unboxing là việc convert boxed value back to value type. Unboxing là 1 explicit casting.

- Memory Leak trong .NET

-- Memory Leak là 1 tình trạng ( situation ) mà khi 1 phần memory không được cleanup, ngay cả khi object chiếm nó ( occupying ) không còn được sư dụng.
